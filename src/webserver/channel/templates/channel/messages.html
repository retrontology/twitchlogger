<div id="top-messages-navigation">
    <div id="top-incremental-navigation">
        {% if page != 0 %}
        <a id="previous-page" href="{% url 'channel' channel %}?{% if username is not None %}username={{ username }}&{% endif %}page={{ previous_page }}&limit={{ limit }}">Prev</a>
        {% endif %}
        {% if page < max_pages %}
        <a id="next-page" href="{% url 'channel' channel %}?{% if username is not None %}username={{ username }}&{% endif %}page={{ next_page }}&limit={{ limit }}">Next</a>
        {% endif %}
    </div>
    <div id="top-page-navigation">
        {% if page > 2 %}
        <a id="first-page-number" href="{% url 'channel' channel %}?{% if username is not None %}username={{ username }}&{% endif %}page=0&limit={{ limit }}">0</a>
        ...
        {% endif %}
        {% if second_previous_page >= 0 %}
        <a id="second-previous-page-number" href="{% url 'channel' channel %}?{% if username is not None %}username={{ username }}&{% endif %}page={{ second_previous_page }}&limit={{ limit }}">{{ second_previous_page }}</a>
        {% endif %}
        {% if previous_page >= 0 %}
        <a id="previous-page-number" href="{% url 'channel' channel %}?{% if username is not None %}username={{ username }}&{% endif %}page={{ previous_page }}&limit={{ limit }}">{{ previous_page }}</a>
        {% endif %}
        {{ page }}
        {% if next_page <= max_pages %}
        <a id="next-page-number" href="{% url 'channel' channel %}?{% if username is not None %}username={{ username }}&{% endif %}page={{ next_page }}&limit={{ limit }}">{{ next_page }}</a>
        {% endif %}
        {% if second_next_page <= max_pages %}
        <a id="second-next-page-number" href="{% url 'channel' channel  %}?{% if username is not None %}username={{ username }}&{% endif %}page={{ second_next_page }}&limit={{ limit }}">{{ second_next_page }}</a>
        {% endif %}
        {% if second_next_page < max_pages %}
        ...
        <a id="last-page-number" href="{% url 'channel' channel %}?{% if username is not None %}username={{ username }}&{% endif %}page={{ max_pages|add:'-1' }}&limit={{ limit }}">{{ max_pages|add:"-1" }}</a>
        {% endif %}
    </div>
</div>
<table class="messages">
    <tr class="messages-header">
        <th class="message-date">Date</th>
        <th class="message-channel">User</th>
        <th class="message-content">Message</th>
    </tr>
    {% for message in messages %}
    <tr>
        <td class="message-date">{{ message.timestamp }}</td>
        <td class="message-channel">
            <a style="color:{{ message.color }}; text-decoration: none;" href="{{ channel }}?username={{ message.username }}">{{ message.username }}</a>
            [<a style="text-decoration: none;" href="{% url 'user' message.username %}">U</a>]
        </td>
        <td class="message-content">{{ message.content | safe }}</td>
    </tr>
    {% endfor %}
</table>
<div id="bottom-messages-navigation">
    <div id="bottom-page-navigation">
        {% if page > 2 %}
        <a id="first-page-number" href="{% url 'channel' channel %}?{% if username is not None %}username={{ username }}&{% endif %}page=0&limit={{ limit }}">0</a>
        ...
        {% endif %}
        {% if second_previous_page >= 0 %}
        <a id="second-previous-page-number" href="{% url 'channel' channel %}?{% if username is not None %}username={{ username }}&{% endif %}page={{ second_previous_page }}&limit={{ limit }}">{{ second_previous_page }}</a>
        {% endif %}
        {% if previous_page >= 0 %}
        <a id="previous-page-number" href="{% url 'channel' channel %}?{% if username is not None %}username={{ username }}&{% endif %}page={{ previous_page }}&limit={{ limit }}">{{ previous_page }}</a>
        {% endif %}
        {{ page }}
        {% if next_page <= max_pages %}
        <a id="next-page-number" href="{% url 'channel' channel %}?{% if username is not None %}username={{ username }}&{% endif %}page={{ next_page }}&limit={{ limit }}">{{ next_page }}</a>
        {% endif %}
        {% if second_next_page <= max_pages %}
        <a id="second-next-page-number" href="{% url 'channel' channel  %}?{% if username is not None %}username={{ username }}&{% endif %}page={{ second_next_page }}&limit={{ limit }}">{{ second_next_page }}</a>
        {% endif %}
        {% if second_next_page < max_pages %}
        ...
        <a id="last-page-number" href="{% url 'channel' channel %}?{% if username is not None %}username={{ username }}&{% endif %}page={{ max_pages|add:'-1' }}&limit={{ limit }}">{{ max_pages|add:"-1" }}</a>
        {% endif %}
    </div>
    <div id="bottom-incremental-navigation">
        {% if page != 0 %}
        <a id="previous-page" href="{% url 'channel' channel %}?{% if username is not None %}username={{ username }}&{% endif %}page={{ previous_page }}&limit={{ limit }}">Prev</a>
        {% endif %}
        {% if page < max_pages %}
        <a id="next-page" href="{% url 'channel' channel %}?{% if username is not None %}username={{ username }}&{% endif %}page={{ next_page }}&limit={{ limit }}">Next</a>
        {% endif %}
    </div>
</div>